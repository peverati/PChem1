# Systems and Variables {#SystemVariables}

## Thermodynamic System
A thermodynamic system—or just simply a system—is a portion of space with defined boundaries that separate it from its surroundings. The surroundings may include other thermodynamic systems, or physical systems that are not thermodynamic systems. A boundary may be a real physical barrier or a purely notional one. Typical examples of systems are reported in Fig. XXX below. 

In the first case, a liquid is contained in a typical erlenmeyer flask. The boundaries of the system are clearly the glass walls of the beaker. The second system is represented by the gas contained in a balloon. The boundary is a physical barrier also in this case. The third case is a that of a thunder cloud, where the boundary is not a well-defined physical barriers, but rather some condition of pressure and chemical composition at the interface between the cloud and the atmosphere. Finally the fourth case is the case of an open flame. In this case the boundary is again non-physical, and possibly even harder to define than for a cloud. For example, we can chose to define the flame based on some temperature threshold, or some color criterion, or even some chemical one. despite the lack of physical boundaries, both the cloud and the flame—as portions of space containing matter—can be defined as a thermodynamic system and studied as such.

A system can exchange exclusively mass, exclusively energy, or both mass and energy with its surroundings. Depending on the abilities of the boundaries to exchange these quantities, a system is defined as open, closed, or isolated. An open system exchanges both mass and energy. A closed system exchanges only energy, but not mass. Finally, an isolated system does not exchange mass nor energy.

XXXXXX TABLE

When a system exchanges mass or energy with its surroundings, some of its parameters (variables) change. For example, if a system loses mass to the surroundings, the number of molecules (or moles) in the system will decrease. Similarly, if a system is absorbing some energy one or more of its variables (such as for example its temperature) increase. Mass and energy can flow into the system or out of the system. Let’s consider mass exchange only. If some molecules of a substance leave the system and then the same amount of molecules flow back into the system, the system will not be modified (Fig. XXX - system losing molecules, and then gaining them back). In other words, we can count 100 molecules leaving a system and assign them the value of –100 in an outgoing process, and then observe the same 100 molecules going back into the system and assign them a value of +100. Regardless of the number of molecules present in the system in the first place, the overall balance will be –100 (from the outgoing process) +100 (from the ingoing process) = 0, which brings the system to its initial situation (mass has not changed). However, from a mathematical standpoint, we could have equally assigned the label +100 to the outgoing process, and –100 to the ingoing one, and the overall total would have stayed exactly the same: +100–100 = 0. Which of the two labels is best? For this case it seems natural to define a mass going out of the system as negative (the system is losing it), and a mass going into the system as positive (the system is gaining it), but is it as straightforward for energy? 
Here’s another example. Let’s consider a system that is composed of your body. When you are exercising you are losing mass in the form of water (sweat) and CO2 (from respiration). This mass loss can be easily measured by stepping on a scale before and after exercise. The number you observe on the scale will go down, hence you’ve lost weight. After exercise, you will reintegrate the lost mass by drinking and eating. If you’ve reintegrated the same amount you’ve lost, your weight is going to be exactly the same as it was before the exercise (no weight loss). But which label do you attach to the amounts that you have lost and gained? Let’s say that you’re running a 5km race without drinking nor eating, and you measure your weight dropping 2 kg after the race. After the race you drink 1.5 kg of water and eat a 500 g energy bar. Overall you didn’t lose any weight, and it would seem normal to label the 2 kg that you’ve lost as negative (–2)  and the 1.5 kg of water that you drank and the 500 g bar that you ate as positive (+1.5 +0.5 = + 2). But is it the only way? After all, you didn’t gain nor lose any weight, so why not calling the 2 kg due to exercise +2 and the 2 that you’ve ingested as –2? It might seem silly, but mathematically it would not make any difference, the total would still be zero. Now, let’s consider energy instead of mass. Let’s say that in order to run the 5km race you’ve spent 500 kcal, which then you reintegrate exactly by eating the energy bar. Which sign would you put in front of the kilocalories that you “burned” during the race? In principle, you’ve lost them so if you want to be consistent you should use a negative sign. But if you think about it, you’ve put quite an effort to “lose” those kilocalories, so it might not feel bad to assign them a positive sign instead. After all, it’s perfectly OK to say “I’ve done a 500 kcal run today”, while it might sound quite awkward to say “I’ve done a –500 kcal run today.” The results of our previous exercise with mass, in fact, demonstrate that it doesn’t really matter which sign you put in front of the quantities. As long as you are consistent throughout the process, the signs will cancel out. That is, if you’ve done a +500 kcal run, then you’ve eaten a bar for –500 kcal, resulting in a total zero loss/gain. Alternatively, if you’ve done a –500 kcal run, you would have eaten a +500 kcal bar, for a total of again zero loss/gain.
These simple examples clearly demonstrate that the sign that we assign to quantities that flow through a boundary is arbitrary (i.e., we can define it any way we want, as long as we are always consistent with ourselves). There is no best way to assign those signs. If you ask two different people, you might obtain two different answers. But we are scientists, and we must make sure to be rigorous. For this reason, chemists have established a convention for the signs that we will follow throughout this course. If we are consistent in following the convention, we are guaranteed to never make any sign mistake. 
The chemistry convention of the sign is system-centric.
	•	If something (energy or mass) is going into the system it has a positive sign + (system is gaining)
	•	If something (energy or mass) is going out of the system it has a negative sign – (system is losing)
If you want a trick to remember the convention, use the weight loss/gain during exercise example above. You are the system, if you lose weight the kilograms will be negative (–2 kg), while if you gain weight they will be positive (+2 kg). Similarly, if you eat an energy bar, you are the system and you will have increased your energy by +500 kcal (positive), while if you burned energy during exercise, you are the system and you will have lost energy, hence –500 kcal (negative). If the system is a balloon filled with gas, and the balloon is losing mass, you are the balloon and you are losing weight, hence the mass will be negative. If the balloon is absorbing heat (likely increasing its temperature, hence increasing its volume), you are the system and you are gaining heat, hence heat will be positive.

## Thermodynamic Variables
The system is defined and studied using parameters that are called variables. These variables are quantities that we are able to measure, such as pressure and temperature, but don’t be surprised if in some occasion youu encounter some variable that is a little harder to measure directly, such as entropy. The variables depends only on the current state of the system, and therefore they define it. In other words, if I know the values of all the “relevant variables” of a system, I know the state of the system. The relationship between the variables are described by mathematical functions that are called state functions, while the “relevant variables” are called natural variables.
What are the “relevant variables” of a system? The answer to this question depends on the system, and it is not always straightforward. The simplest case is the case of an ideal gas, for which the natural variables are those that enter the ideal gas law and the corresponding equation:

\begin{equation}
  PV=nRT       
  (\#eq:idealgaslaw)
\end{equation}

Therefore, the natural variables for an ideal gas are: the pressure P, the volume V,  the number of moles n, and the temperature T, with R being the ideal gas constant. Recalling from the general chemistry courses, R is a universal dimensional constant which has the values of R = 8.31 kJ/mol in SI units.  
We will use the ideal gas equation and its variables as an example to discuss about variables and functions in this chapter, and then we will analyze more complicated cases in the next chapters. 
Variables can be classified according to numerous criteria, each with its advantages and disadvantages. A typical classification is:

- **Physical variables ($P$, $V$, $T$ in the ideal gas law):** independent on the chemical composition of the system.
-	**Chemical variables ($n$ in the ideal gas law):** dependent on the chemical composition of the system.

Another useful classification is:

- **Intensive variables ($P$, $T$ in the ideal gas law):** independent on the physical size (extension) of the system.
-	**Extensive variables ($V$, $n$ in the ideal gas law):** dependent on the physical size (extension) of the system.

When we deal with thermodynamic systems, it is more convenient to work with intensive variables. Luckily, it is relatively easy to convert extensive variables into intensive ones by just taking the ratio between two of them. For an ideal gas, by taking the ratio between V and n, we obtained the intensive variable called molar volume:
$$V_m=\frac{V}{n}.$$
We can then recast eq.\@ref(eq:idealgaslaw) as:
$$PV_m=RT,$$
which is the preferred equation that we will use for the remainder of this course.
The ideal gas equation connects the 3 variables pressure, molar volume, and temperature, and reduces the number of independent variables to just 2. In other words, once 2 of the 3 variables are known, the other one can be easily obtained using these simple relations:
$$P(T,V_m)=\frac{RT}{V_m},$$
$$V_m(T,P)=\frac{RT}{P},$$
$$T(P,V_m)=\frac{PV_m}{R}.$$
These equations define three state functions, each one expressed in terms of two independent natural variables. For example, eq. 1.2.4 defines the state function called “pressure”, expressed as a function of temperature and molar volume. Similarly, eq. 1.2.5 defines the “molar volume” as a function of temperature and pressure, and eq. 1.2.6 defines the “temperature” as a function of pressure and molar volume. When we know the natural variables that define a state function, we can express the function using its total differential (see eq. XXX), for example for the pressure P(T, Vm):

. (1.2.7)

Recalling Schwartz’s theorem (eq. XXX), the mixed partial second derivatives that can be obtained from eq. 1.2.7 are the same:
 (1.2.8)

Which can be easily verified considering that:
, (1.2.8)
and 
. (1.2.8)

While for the ideal gas law all the variables are “well-behaved” and always satisfies Schwartz’s theorem, we will encounter some variable for which Schwartz’s theorem does not hold. Mathematically, if the Schwartz’s theorem is violated (i.e., if the mixed second derivatives are not equal), then the corresponding function cannot be integrated, hence it is not a state function. The differential of a function that cannot be integrated cannot be defined exactly. For this reason, these functions are called path functions, that is, they depend on the path rather than the state. The most typical example of path functions that we will encounter in the next chapters are heat (Q) and work (W). For these functions we cannot define exact differentials dQ and dW, and we must introduce a new notation to define their “inexact differentials” xxxQ and xxxW. 
We will return on exact and inexact differential when we discuss heat and work, but for this chapter it is important to notice the difference between a state function and a path function. A typical example to understand the difference between state and path function is to consider the distance between two geographical locations. Let’s for example consider the distance between New York City and Los Angeles. If we fly straight from one city to the other there are roughly 4,000 km between them. This “air distance” depends exclusively on the geographical location of the two cities and it stays constant regardless of the method of transportation that I have accessibility to travel between them. Since the positions of the cities depend uniquely on their latitudes and longitudes, the “air distance” is a state functions, i.e., it is uniquely defined from a simple relationship between measurable variables. However, the “air distance” is not the distance that I will practically have to drive when I go from NYC to LA. Such “travel distance” depends on the method of transportation that I decide to take (airplane vs. car vs. train vs. boat vs. …), and it will depend on a plentiful amount of other factors such as the choice of road to be traveled (if going by car), the atmospheric conditions (if flying), and so on. A typical “travel distance” by car is, for example, about 4,500 km, which is about 12% more than the “air distance”. Certainly we could even design a very inefficient road trip that avoids all highways and will result in a “travel distance” of 8,000 km or even more (200% of the “air distance”). The “travel distance” is a clear example of a path function because it depends on the specific path that I decide to travel to go from NYC to LA. See Figure XXX.

![](./img/using_gitbook.jpeg)

A *GitBook* is a useful tool for creating (open?) educational resources. It is an online "book" format, that can be hosted directly from a GitHub repository. You are currently reading a GitBook designed to help you get started creating your own educational GitBooks for your courses (how meta!). It does this in two ways: By explaining how to create GitBooks, and by serving as a template that you can copy and edit, instead of having to start from scratch. This template GitBook has all the settings that I consider to be useful for educational GitBooks, but you can always customize it.

I will focus specifically on GitBooks that are made in [Rstudio](https://rstudio.com), using the [`rmarkdown` markup language](https://rstudio.com/wp-content/uploads/2016/03/rmarkdown-cheatsheet-2.0.pdf), rendered using the [`bookdown` package](https://bookdown.org/yihui/bookdown/get-started.html), and hosted on [GitHub](https://github.com/). If you want to get started, skip ahead to Chapter \@ref(prerequisites); if you need more convincing, keep reading below.

## Why use a GitBook for teaching?

**To spead the workload**

My challenge was that I had to translate all tutorial instructions from proprietary software to R, and there was not enough time to complete this task before the course commenced. By making the tutorial instructions available in [this GitBook](https://cjvanlissa.github.io/TCSM/), I was able to continue translating tutorial instructions *while the semester was ongoing*, and push updates to GitHub in time for each session, which were immediately available to all students. The parallel with the current situation is that some courses are now forced to start teaching in an online format, without having enough time to completely prepare. By using a GitBook, you can spread out the workload of preparing your materials across the semester. [This is the finished GitBook](https://cjvanlissa.github.io/TCSM/)

**To contribute or use existing Open Educational Resources**

Another key advantage of using a GitBook is, that you can easily make your course materials available for others to use under an open access license, or perhaps you can use an existing GitBook from the internet and adapt it for your own uses. GitBooks can be easily duplicated and adapted, just like any other project hosted on GitHub. Contributing Open Educational Materials can help reduce the workload on teachers around the world, and can improve the quality of the materials used thanks to online collaborating and feedback.

**To benefit from formatting advantages**

GitBooks also have two formatting advantages over classic PDF or Word files. First, they are Rmarkdown files, and can thus include blocks of R ([or Python](https://rstudio.github.io/reticulate/articles/r_markdown.html)) code that can be evaluated, and whose results are rendered to the file. Second, they are interactive web pages, and as such, can have dynamic features (such as answers to assignments that can be hidden, or boxes where students can fill out an answer to be checked). Additionally, other web pages or interactive apps can be embedded within the page. So whereas a traditional document is static, GitBooks can be interactive.

**How do GitBooks work?**

GitBooks consist of an Rstudio project, with several Rmarkdown files containing the chapters of the book. Inside Rstudio, users can press a "Build Book" button, which renders all of these chapters to a nicely formatted HTML book (and a PDF file for users to download). Users can push the finished book to a GitHub repository, and indicate on GitHub that the book should be hosted on GitHub pages. Voilà!
  
**Getting started**
  
If you are convinced that this tool might benefit your teaching, your first point of action is to prepare your system for creating GitBooks (Chapter \@ref(prerequisites)). After that, you can get a copy of this GitBook as a template (Chapter \@ref(getgitbook)). Then, you can start tweaking it for your own course!
